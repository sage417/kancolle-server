<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kancolle.server.mapper.map.MapCellMapper">

    <resultMap id="MapCellModel" type="MapCellModelRM">
        <id property="api_id" column="ID"/>
        <result property="api_map_no" column="MAP_NO"/>
        <result property="api_maparea_id" column="MAPAREA_ID"/>
        <result property="api_mapinfo_no" column="MAPINFO_NO"/>
        <result property="api_no" column="NO"/>
        <result property="api_color_no" column="COLOR_NO"/>
    </resultMap>

    <resultMap type="MapCell" id="MapCellRM" autoMapping="true">
        <id property="cellId" column="CELL_ID"/>
        <result property="rashinFlag" column="RASHIN_FLAG"/>
        <result property="mapareaId" column="MAPAREA_ID"/>
        <result property="mapinfoId" column="MAPINFO_ID"/>
        <result property="rashinId" column="RASHIN_ID"/>
        <result property="colorNo" column="COLOR_NO"/>
        <result property="eventId" column="EVENT_ID"/>
        <result property="eventKind" column="EVENT_KIND"/>
        <result property="commentKind" column="COMMENT_KIND"/>
        <result property="production_kind" column="PRODUCTION_KIND"/>
    </resultMap>

    <select id="selectMapCells" resultMap="MapCellModelRM">
        SELECT * FROM t_map_cell
    </select>

    <select id="selectMapCellById" resultMap="MapCellRM">
		SELECT
			t.CELL_ID,
			c.MAPAREA_ID,
			c.MAPINFO_NO AS MAPINFO_ID,
			c.NO,
			t.RASHIN_FLAG,
			t.RASHIN_ID,
			t.COLOR_NO,
			t.EVENT_ID,
			t.EVENT_KIND,
			t.NEXT,
			t.COMMENT_KIND,
			t.PRODUCTION_KIND
		FROM t_map_cell_traveller t
			INNER JOIN t_map_cell c ON t.CELL_ID = c.ID
		WHERE t.CELL_ID = #{cellId}
    </select>
</mapper>